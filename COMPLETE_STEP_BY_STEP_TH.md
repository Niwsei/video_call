# üìö ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô - ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏à‡∏ô‡πÇ‡∏ó‡∏£‡πÑ‡∏î‡πâ

## ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô Application
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏õ‡∏¥‡∏î App - main() function](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-1-‡πÄ‡∏õ‡∏¥‡∏î-app---main-function)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: Bootstrap App - _BootstrapApp](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-2-bootstrap-app---_bootstrapapp)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏£‡∏¥‡πà‡∏° Initialize - _initialize()](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-3-‡πÄ‡∏£‡∏¥‡πà‡∏°-initialize---_initialize)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: Get User Data - TutorialUser](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-4-get-user-data---tutorialuser)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: Initialize App - AppInitializer](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-5-initialize-app---appinitializer)

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: Firebase ‡πÅ‡∏•‡∏∞ Push Notifications
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 6: Initialize Firebase](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-6-initialize-firebase)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 7: Register Background Handler](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-7-register-background-handler)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 8: Request FCM Permission](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-8-request-fcm-permission)

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 3: Stream Video Client
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 9: Create Stream Client](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-9-create-stream-client)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 10: Setup Push Notification Manager](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-10-setup-push-notification-manager)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 11: Connect to Stream Backend](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-11-connect-to-stream-backend)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 12: Register FCM Token with Stream](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-12-register-fcm-token-with-stream)

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 4: ‡πÅ‡∏™‡∏î‡∏á UI ‡∏´‡∏•‡∏±‡∏Å
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 13: ‡πÅ‡∏™‡∏î‡∏á MyApp Widget](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-13-‡πÅ‡∏™‡∏î‡∏á-myapp-widget)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 14: ‡πÅ‡∏™‡∏î‡∏á HomePage](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-14-‡πÅ‡∏™‡∏î‡∏á-homepage)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 15: Listen for Incoming Calls](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-15-listen-for-incoming-calls)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 16: Monitor FCM Token](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-16-monitor-fcm-token)

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏Å‡∏≤‡∏£‡πÇ‡∏ó‡∏£‡∏≠‡∏≠‡∏Å (Caller - User A)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 17: User ‡∏Å‡∏£‡∏≠‡∏Å Callee ID](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-17-user-‡∏Å‡∏£‡∏≠‡∏Å-callee-id)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 18: ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÇ‡∏ó‡∏£ - _startCall()](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-18-‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÇ‡∏ó‡∏£---_startcall)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 19: ‡∏™‡∏£‡πâ‡∏≤‡∏á Call ID](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-19-‡∏™‡∏£‡πâ‡∏≤‡∏á-call-id)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 20: makeCall()](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-20-makecall)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 21: getOrCreate() - ‡∏™‡∏£‡πâ‡∏≤‡∏á Call ‡πÉ‡∏ô Server](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-21-getorcreate---‡∏™‡∏£‡πâ‡∏≤‡∏á-call-‡πÉ‡∏ô-server)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 22: ring() - ‡∏™‡πà‡∏á Push Notification](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-22-ring---‡∏™‡πà‡∏á-push-notification)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 23: Navigate to CallScreen (Caller)](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-23-navigate-to-callscreen-caller)

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 6: Stream Backend Process
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 24: Stream ‡∏£‡∏±‡∏ö Request ‡∏™‡∏£‡πâ‡∏≤‡∏á Call](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-24-stream-‡∏£‡∏±‡∏ö-request-‡∏™‡∏£‡πâ‡∏≤‡∏á-call)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 25: Stream Query User B Devices](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-25-stream-query-user-b-devices)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 26: Stream Get Push Provider Config](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-26-stream-get-push-provider-config)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 27: Stream ‡∏™‡∏£‡πâ‡∏≤‡∏á Notification Payload](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-27-stream-‡∏™‡∏£‡πâ‡∏≤‡∏á-notification-payload)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 28: Stream ‡∏™‡πà‡∏á‡πÑ‡∏õ Firebase FCM](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-28-stream-‡∏™‡πà‡∏á‡πÑ‡∏õ-firebase-fcm)

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 7: Firebase ‡∏™‡πà‡∏á Notification
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 29: Firebase ‡∏£‡∏±‡∏ö Request ‡∏à‡∏≤‡∏Å Stream](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-29-firebase-‡∏£‡∏±‡∏ö-request-‡∏à‡∏≤‡∏Å-stream)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 30: Firebase Route to User B Device](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-30-firebase-route-to-user-b-device)

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 8: ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏™‡∏≤‡∏¢ (Callee - User B)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 31: User B ‡∏£‡∏±‡∏ö Notification (Foreground)](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-31-user-b-‡∏£‡∏±‡∏ö-notification-foreground)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 32: User B ‡∏£‡∏±‡∏ö Notification (Background)](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-32-user-b-‡∏£‡∏±‡∏ö-notification-background)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 33: Stream SDK Parse Message](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-33-stream-sdk-parse-message)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 34: Update IncomingCall Stream](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-34-update-incomingcall-stream)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 35: Listener Trigger - Navigate to CallScreen](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-35-listener-trigger---navigate-to-callscreen)

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 9: CallScreen (Incoming Call UI)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 36: ‡πÅ‡∏™‡∏î‡∏á Incoming Call UI](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-36-‡πÅ‡∏™‡∏î‡∏á-incoming-call-ui)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 37: User B ‡∏Å‡∏î Accept](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-37-user-b-‡∏Å‡∏î-accept)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 38: call.accept() - ‡∏™‡πà‡∏á Request](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-38-callaccept---‡∏™‡πà‡∏á-request)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 39: Stream Notify User A](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-39-stream-notify-user-a)

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 10: WebRTC Connection
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 40: User A ‡∏™‡∏£‡πâ‡∏≤‡∏á SDP Offer](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-40-user-a-‡∏™‡∏£‡πâ‡∏≤‡∏á-sdp-offer)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 41: ‡∏™‡πà‡∏á Offer ‡∏ú‡πà‡∏≤‡∏ô Stream](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-41-‡∏™‡πà‡∏á-offer-‡∏ú‡πà‡∏≤‡∏ô-stream)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 42: User B ‡∏£‡∏±‡∏ö Offer](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-42-user-b-‡∏£‡∏±‡∏ö-offer)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 43: User B ‡∏™‡∏£‡πâ‡∏≤‡∏á SDP Answer](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-43-user-b-‡∏™‡∏£‡πâ‡∏≤‡∏á-sdp-answer)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 44: ‡∏™‡πà‡∏á Answer ‡∏Å‡∏•‡∏±‡∏ö User A](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-44-‡∏™‡πà‡∏á-answer-‡∏Å‡∏•‡∏±‡∏ö-user-a)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 45: ‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ICE Candidates](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-45-‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô-ice-candidates)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 46: WebRTC Connection Established](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-46-webrtc-connection-established)

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 11: Active Call
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 47: ‡πÅ‡∏™‡∏î‡∏á Active Call UI](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-47-‡πÅ‡∏™‡∏î‡∏á-active-call-ui)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 48: Audio/Video Streaming](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-48-audiovideo-streaming)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 49: Monitor Call State](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-49-monitor-call-state)

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 12: ‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡πÇ‡∏ó‡∏£
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 50: User ‡∏Å‡∏î End Call](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-50-user-‡∏Å‡∏î-end-call)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 51: call.leave() - Disconnect](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-51-callleave---disconnect)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 52: Notify Participants](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-52-notify-participants)
- [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 53: Navigate ‡∏Å‡∏•‡∏±‡∏ö HomePage](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà-53-navigate-‡∏Å‡∏•‡∏±‡∏ö-homepage)

---

# ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô Application

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏õ‡∏¥‡∏î App - main() function

### ‡πÑ‡∏ü‡∏•‡πå: `lib/main.dart`

```dart
import 'package:flutter/material.dart';
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:
- **`import`**: ‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤ package ‡∏´‡∏£‡∏∑‡∏≠ library ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
- **`package:flutter/material.dart`**:
  - Material Design widgets ‡∏à‡∏≤‡∏Å Flutter framework
  - ‡∏°‡∏µ widgets ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô ‡πÄ‡∏ä‡πà‡∏ô `Text`, `Button`, `Scaffold`, `MaterialApp`
  - ‡∏ï‡πâ‡∏≠‡∏á import ‡∏ó‡∏∏‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ Flutter widgets

---

```dart
import 'package:firebase_messaging/firebase_messaging.dart';
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:
- **Firebase Cloud Messaging (FCM) package**
- ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:
  - ‡∏£‡∏±‡∏ö push notifications
  - Get FCM token
  - Handle foreground/background messages
- Version: `firebase_messaging: ^15.2.0` (‡∏à‡∏≤‡∏Å pubspec.yaml)

---

```dart
import 'package:stream_video_flutter/stream_video_flutter.dart';
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:
- **Stream Video Flutter SDK**
- ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:
  - Video/Audio calling
  - WebRTC connection
  - Push notification integration
  - Call management
- Version: `stream_video_flutter: ^1.5.1`

---

```dart
import 'app.dart';
import 'app_initializer.dart';
import 'firebase_background_handler.dart';
import 'tutorial_user.dart';
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:
- **Import ‡πÑ‡∏ü‡∏•‡πå local** (‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÄ‡∏£‡∏≤)
- **`app.dart`**: MyApp widget (main app widget)
- **`app_initializer.dart`**: Initialize Stream client
- **`firebase_background_handler.dart`**: Background notification handler
- **`tutorial_user.dart`**: User data (for manual auth mode)

---

```dart
Future<void> main() async {
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:
- **`main()`**: Entry point ‡∏Ç‡∏≠‡∏á Flutter app
  - Dart compiler ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
  - ‡∏ó‡∏∏‡∏Å app ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ `main()` function

- **`Future<void>`**:
  - `Future` = asynchronous operation (‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà blocking)
  - `void` = ‡πÑ‡∏°‡πà return ‡∏Ñ‡πà‡∏≤
  - ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô `Future` ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏µ async operations (Firebase init)

- **`async`**:
  - ‡∏ó‡∏≥‡πÉ‡∏´‡πâ function ‡πÄ‡∏õ‡πá‡∏ô asynchronous
  - ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ `await` ‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô function

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≤‡∏á:**
```dart
// Synchronous (blocking):
void main() {
  print('1');
  print('2');  // ‡∏£‡∏≠‡πÉ‡∏´‡πâ 1 ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô
  print('3');  // ‡∏£‡∏≠‡πÉ‡∏´‡πâ 2 ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô
}

// Asynchronous (non-blocking):
Future<void> main() async {
  print('1');
  await someAsyncOperation();  // ‡∏£‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏ï‡πà‡∏≠
  print('2');
}
```

---

```dart
  WidgetsFlutterBinding.ensureInitialized();
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:
- **‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£:**
  - Initialize Flutter engine
  - Setup binding ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Flutter framework ‚Üî Native platform (Android/iOS)
  - ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ native plugins ‡πÉ‡∏ô `main()`

- **‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å:**
  - ‡∏õ‡∏Å‡∏ï‡∏¥ `runApp()` ‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
  - ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ native plugins **‡∏Å‡πà‡∏≠‡∏ô** `runApp()` ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏≠‡∏á
  - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á plugins ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å:
    - `Firebase.initializeApp()`
    - `SharedPreferences.getInstance()`
    - `PathProvider.getApplicationDocumentsDirectory()`

- **Error ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏Å:**
  ```
  ServicesBinding.defaultBinaryMessenger was accessed before the binding was initialized.
  ```

**Flow:**
```
WidgetsFlutterBinding.ensureInitialized()
    ‚Üì
Binding created
    ‚Üì
Native platform channel ready
    ‚Üì
‡πÉ‡∏ä‡πâ native plugins ‡πÑ‡∏î‡πâ
```

---

```dart
  runApp(const _BootstrapApp());
}
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`runApp(Widget app)`:**
- **‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£:**
  1. ‡∏£‡∏±‡∏ö root widget
  2. ‡∏™‡∏£‡πâ‡∏≤‡∏á widget tree
  3. Attach widget tree ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
  4. ‡πÄ‡∏£‡∏¥‡πà‡∏° render UI

- **`const _BootstrapApp()`**:
  - ‡∏™‡∏£‡πâ‡∏≤‡∏á instance ‡∏Ç‡∏≠‡∏á `_BootstrapApp` widget
  - `const` = compile-time constant (optimize performance)
  - `_BootstrapApp` = private class (‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ `_`)

**Widget Tree:**
```
runApp(_BootstrapApp)
    ‚Üì
_BootstrapApp (StatefulWidget)
    ‚Üì
FutureBuilder (‡∏£‡∏≠ initialization)
    ‚Üì
MyApp (‡πÄ‡∏°‡∏∑‡πà‡∏≠ init ‡πÄ‡∏™‡∏£‡πá‡∏à)
    ‚Üì
HomePage
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: Bootstrap App - _BootstrapApp

```dart
class _BootstrapApp extends StatefulWidget {
  const _BootstrapApp();

  @override
  State<_BootstrapApp> createState() => _BootstrapAppState();
}
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`StatefulWidget`:**
- Widget ‡∏ó‡∏µ‡πà‡∏°‡∏µ state (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÑ‡∏î‡πâ)
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠ state ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‚Üí rebuild UI
- ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ `createState()` method

**`const _BootstrapApp()`:**
- Constructor ‡πÅ‡∏ö‡∏ö const
- ‡πÑ‡∏°‡πà‡∏°‡∏µ parameters
- `_` = private (‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ)

**`createState()`:**
- ‡∏™‡∏£‡πâ‡∏≤‡∏á State object
- Return `_BootstrapAppState` instance
- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ï‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á widget

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á StatelessWidget vs StatefulWidget:**
```dart
// StatelessWidget (‡πÑ‡∏°‡πà‡∏°‡∏µ state):
class MyWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Text('Hello');  // ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
  }
}

// StatefulWidget (‡∏°‡∏µ state):
class MyWidget extends StatefulWidget {
  @override
  State<MyWidget> createState() => _MyWidgetState();
}

class _MyWidgetState extends State<MyWidget> {
  int counter = 0;  // state

  @override
  Widget build(BuildContext context) {
    return Text('$counter');  // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÑ‡∏î‡πâ
  }
}
```

---

```dart
class _BootstrapAppState extends State<_BootstrapApp> {
  late Future<StreamVideo> _initFuture;
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`State<_BootstrapApp>`:**
- State class ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö `_BootstrapApp` widget
- ‡∏°‡∏µ lifecycle methods: `initState()`, `build()`, `dispose()`

**`late Future<StreamVideo> _initFuture;`:**
- **`late`**:
  - ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞ initialize ‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ï‡∏≠‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®)
  - ‡∏ï‡πâ‡∏≠‡∏á assign ‡∏Ñ‡πà‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ
  - ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏Å‡πà‡∏≠‡∏ô assign ‚Üí runtime error

- **`Future<StreamVideo>`**:
  - Async operation ‡∏ó‡∏µ‡πà‡∏à‡∏∞ return `StreamVideo` object
  - `Future` = promise (‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)

- **`_initFuture`**:
  - Private variable (‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ `_`)
  - ‡πÄ‡∏Å‡πá‡∏ö Future ‡∏Ç‡∏≠‡∏á initialization process

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ `late`:**
```dart
// ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ late (error):
Future<int> myFuture;  // Error: must be initialized

// ‡πÉ‡∏ä‡πâ late (OK):
late Future<int> myFuture;  // OK, ‡∏à‡∏∞ init ‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á

// Initialize ‡πÉ‡∏ô initState:
@override
void initState() {
  super.initState();
  myFuture = Future.value(42);  // assign ‡∏Ñ‡πà‡∏≤
}
```

---

```dart
  @override
  void initState() {
    super.initState();
    _initFuture = _initialize();
  }
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`initState()`:**
- **Lifecycle method** ‡∏Ç‡∏≠‡∏á StatefulWidget
- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å **1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß** ‡∏ï‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á State object
- ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:
  - Initialize variables
  - Subscribe to streams
  - Setup listeners
  - Start async operations

**`super.initState()`:**
- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å parent class's `initState()`
- **‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Å‡πà‡∏≠‡∏ô** ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£
- Dart requirement

**`_initFuture = _initialize();`:**
- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `_initialize()` method
- Return `Future<StreamVideo>`
- Assign ‡πÉ‡∏´‡πâ `_initFuture`

**Lifecycle order:**
```
1. Constructor (_BootstrapApp())
2. createState()
3. initState()  ‚Üê ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
4. build()
5. (state changes ‚Üí build() again)
6. dispose()
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏£‡∏¥‡πà‡∏° Initialize - _initialize()

```dart
  Future<StreamVideo> _initialize() async {
    final currentUser = TutorialUser.user1();
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`Future<StreamVideo> _initialize() async`:**
- Private method (‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ `_`)
- Return `Future<StreamVideo>`
- `async` = ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ `await`

**`final currentUser = TutorialUser.user1();`:**
- **`final`**: constant reference (‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ reassign)
- **`TutorialUser.user1()`**: Static method
  - Return user data (userId, name, token)
  - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö manual auth mode (testing)

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: Get User Data - TutorialUser

### ‡πÑ‡∏ü‡∏•‡πå: `lib/tutorial_user.dart`

```dart
class TutorialUser {
  final String apiKey;
  final String userId;
  final String name;
  final String token;

  const TutorialUser({
    required this.apiKey,
    required this.userId,
    required this.name,
    required this.token,
  });
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**Data class:**
- ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• user
- ‡∏°‡∏µ 4 fields: apiKey, userId, name, token
- `final` = immutable (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á)
- `required` = ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á

---

```dart
  static TutorialUser user1() {
    // Check if using manual auth mode
    if (ManualAuth.enabled) {
      final selected = ManualAuth.current();
      return TutorialUser(
        apiKey: selected.apiKey,
        userId: selected.userId,
        name: selected.name,
        token: selected.token,
      );
    }
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`static TutorialUser user1()`:**
- Static method = ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á instance
- `TutorialUser.user1()` ‡πÅ‡∏ó‡∏ô `TutorialUser().user1()`

**`ManualAuth.enabled`:**
- Check ‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ manual auth mode ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- ‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å compile-time constant:
  ```bash
  flutter run --dart-define=MANUAL_AUTH=true
  ```

**`ManualAuth.current()`:**
- Get user data ‡∏à‡∏≤‡∏Å `dev_manual_auth.dart`
- ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤ userA ‡∏´‡∏£‡∏∑‡∏≠ userB ‡∏ï‡∏≤‡∏° `MANUAL_AUTH_USER`

### ‡πÑ‡∏ü‡∏•‡πå: `lib/dev_manual_auth.dart`

```dart
class ManualAuth {
  static const bool enabled = bool.fromEnvironment('MANUAL_AUTH', defaultValue: false);
  static const String selected = String.fromEnvironment('MANUAL_AUTH_USER', defaultValue: 'A');

  static const ManualAuthUser userA = ManualAuthUser(
    apiKey: 'r9mn4fsbzhub',
    userId: '68da5610e8994916f01364b8',
    name: '‡∫Æ‡∫∑‡∫ß‡ªà‡∫≤‡∫á ‡∫ß‡ªà‡∫≤‡∫á',
    token: 'eyJhbGci...',
  );

  static const ManualAuthUser userB = ManualAuthUser(
    apiKey: 'r9mn4fsbzhub',
    userId: '68ad1babd03c44ef943bb6bb',
    name: 'tangiro kamado',
    token: 'eyJhbGci...',
  );

  static ManualAuthUser current() =>
      (selected.toUpperCase() == 'B') ? userB : userA;
}
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`bool.fromEnvironment('MANUAL_AUTH')`:**
- ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å compile-time constant
- ‡∏ñ‡πâ‡∏≤ run ‡∏î‡πâ‡∏ß‡∏¢ `--dart-define=MANUAL_AUTH=true` ‚Üí enabled = true
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏ ‚Üí defaultValue = false

**`current()`:**
- ‡∏ñ‡πâ‡∏≤ `MANUAL_AUTH_USER=B` ‚Üí return userB
- ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô ‚Üí return userA

**Use case:**
```bash
# Terminal 1 (User A):
flutter run --dart-define=MANUAL_AUTH=true --dart-define=MANUAL_AUTH_USER=A

# Terminal 2 (User B):
flutter run --dart-define=MANUAL_AUTH=true --dart-define=MANUAL_AUTH_USER=B
```

---

‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏µ‡πà `tutorial_user.dart`:

```dart
    // Otherwise, use backend mode
    const userId = '68ad1babd03c44ef943bb6bb';
    return TutorialUser(
      apiKey: kAppKeys.apiKey,
      userId: userId,
      name: 'tangiro kamado',
      token: '',  // Will fetch from backend
    );
  }
}
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**Backend mode:**
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ manual auth ‚Üí ‡πÉ‡∏ä‡πâ backend
- `token: ''` = empty (‡∏à‡∏∞‡πÑ‡∏õ fetch ‡∏à‡∏≤‡∏Å backend ‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á)
- `kAppKeys.apiKey` = API key ‡∏à‡∏≤‡∏Å config file

---

‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏µ‡πà `main.dart`:

```dart
    try {
      final client = await AppInitializer.init(currentUser);
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`try-catch` block:**
- Handle errors ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô
- ‡∏ñ‡πâ‡∏≤ error ‚Üí catch block ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**`await AppInitializer.init(currentUser)`:**
- **`await`**: ‡∏£‡∏≠‡πÉ‡∏´‡πâ async operation ‡πÄ‡∏™‡∏£‡πá‡∏à
- **`AppInitializer.init()`**: Initialize Stream client
- **`currentUser`**: ‡∏™‡πà‡∏á user data ‡πÑ‡∏õ

**‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ await:**
```dart
// ‡πÑ‡∏°‡πà await (‡∏ú‡∏¥‡∏î):
final client = AppInitializer.init(currentUser);
// client = Future<StreamVideo> (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à)

// ‡πÉ‡∏ä‡πâ await (‡∏ñ‡∏π‡∏Å):
final client = await AppInitializer.init(currentUser);
// client = StreamVideo (‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß)
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: Initialize App - AppInitializer

### ‡πÑ‡∏ü‡∏•‡πå: `lib/app_initializer.dart`

```dart
class AppInitializer {
  static Future<StreamVideo> init(TutorialUser currentUser) async {
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**Static method:**
- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á instance
- `AppInitializer.init()` ‡πÅ‡∏ó‡∏ô `AppInitializer().init()`

**Parameters:**
- `currentUser`: TutorialUser object (userId, name, token, apiKey)

---

```dart
    print('========================================');
    print('üöÄ STARTING APP INITIALIZATION');
    print('User ID: ${currentUser.userId}');
    print('User Name: ${currentUser.name}');
    print('========================================');
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**Debug logging:**
- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô console
- ‡∏ä‡πà‡∏ß‡∏¢ debug ‡∏ß‡πà‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÑ‡∏´‡∏ô‡πÅ‡∏•‡πâ‡∏ß
- `${variable}` = string interpolation

**Output ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```
========================================
üöÄ STARTING APP INITIALIZATION
User ID: 68da5610e8994916f01364b8
User Name: ‡∫Æ‡∫∑‡∫ß‡ªà‡∫≤‡∫á ‡∫ß‡ªà‡∫≤‡∫á
========================================
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 6: Initialize Firebase

```dart
    await Firebase.initializeApp(
      options: DefaultFirebaseOptions.currentPlatform,
    );
    print('‚úÖ Firebase initialized');
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`Firebase.initializeApp()`:**
- Initialize Firebase SDK
- **‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Å‡πà‡∏≠‡∏ô** ‡πÉ‡∏ä‡πâ Firebase services
- `await` = ‡∏£‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏ï‡πà‡∏≠

**`DefaultFirebaseOptions.currentPlatform`:**
- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Firebase config ‡∏ï‡∏≤‡∏° platform:
  - Android ‚Üí `google-services.json`
  - iOS ‚Üí `GoogleService-Info.plist`
  - Web ‚Üí Firebase web config

**‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô:**
1. ‡∏≠‡πà‡∏≤‡∏ô Firebase configuration
2. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Firebase Backend
3. Setup Firebase services:
   - Firebase Messaging (FCM)
   - Firebase Analytics (‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏¥‡∏î)
   - Firebase Crashlytics (‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏¥‡∏î)

**Output:**
```
‚úÖ Firebase initialized
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 7: Register Background Handler

```dart
    FirebaseMessaging.onBackgroundMessage(firebaseMessagingBackgroundHandler);
    print('‚úÖ Background message handler registered');
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`FirebaseMessaging.onBackgroundMessage()`:**
- Register function ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö handle background notifications
- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ notification ‡∏°‡∏≤‡∏ï‡∏≠‡∏ô‡πÅ‡∏≠‡∏õ:
  - ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á (background)
  - ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà (terminated)

**`firebaseMessagingBackgroundHandler`:**
- Function ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô `firebase_background_handler.dart`
- ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô **top-level function** (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà method ‡πÉ‡∏ô class)

### ‡πÑ‡∏ü‡∏•‡πå: `lib/firebase_background_handler.dart`

```dart
@pragma('vm:entry-point')
Future<void> firebaseMessagingBackgroundHandler(RemoteMessage message) async {
  await Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);

  if (kDebugMode) {
    print('========================================');
    print('üîî BACKGROUND FCM MESSAGE RECEIVED');
    print('Message ID: ${message.messageId}');
    print('Message data: ${message.data}');
    print('========================================');
  }

  await StreamVideoPushNotificationManager.onBackgroundMessage(
    message,
    callDisplayHelper: CallDisplayHelper(),
  );
}
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`@pragma('vm:entry-point')`:**
- ‡∏ö‡∏≠‡∏Å Dart compiler ‡∏ß‡πà‡∏≤ function ‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å native code
- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô tree-shaking ‡∏•‡∏ö function ‡∏ô‡∏µ‡πâ‡∏ó‡∏¥‡πâ‡∏á
- **‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö background handlers

**`Firebase.initializeApp()`:**
- ‡∏ï‡πâ‡∏≠‡∏á init ‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏£‡∏≤‡∏∞ background handler ‡∏£‡∏±‡∏ô‡πÉ‡∏ô **isolate ‡πÅ‡∏¢‡∏Å**
- Isolate = separate thread (‡πÑ‡∏°‡πà share state ‡∏Å‡∏±‡∏ö main isolate)

**`RemoteMessage message`:**
- Object ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• notification:
  - `messageId`: ID ‡∏Ç‡∏≠‡∏á message
  - `data`: Custom data (call info)
  - `notification`: Notification payload (title, body)

**`StreamVideoPushNotificationManager.onBackgroundMessage()`:**
- Stream SDK method ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ notification
- **‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£:**
  1. Parse message data
  2. Query call info ‡∏à‡∏≤‡∏Å Stream API
  3. ‡πÅ‡∏™‡∏î‡∏á CallKit (iOS) / ConnectionService (Android) UI

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 8: Request FCM Permission

```dart
    final messagingSettings = await FirebaseMessaging.instance.requestPermission(
      alert: true,
      badge: true,
      sound: true,
    );
    print('‚úÖ FCM permission status: ${messagingSettings.authorizationStatus}');
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`FirebaseMessaging.instance.requestPermission()`:**
- ‡∏Ç‡∏≠ permission ‡∏à‡∏≤‡∏Å user
- ‡πÅ‡∏™‡∏î‡∏á popup ‡∏Ç‡∏≠‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå

**Parameters:**
- **`alert: true`**: ‡πÅ‡∏™‡∏î‡∏á notification banner
- **`badge: true`**: ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ö‡∏ô app icon
- **`sound: true`**: ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á notification

**Return:**
```dart
class NotificationSettings {
  AuthorizationStatus authorizationStatus;
  // granted, denied, provisional, notDetermined
}
```

**iOS Popup:**
```
"MyVideoApp" Would Like to Send You Notifications
Notifications may include alerts, sounds, and icon badges.
[Don't Allow]  [Allow]
```

**Android 13+ Popup:**
```
Allow MyVideoApp to send you notifications?
[Don't allow]  [Allow]
```

**Output ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```
‚úÖ FCM permission status: AuthorizationStatus.granted
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 9: Create Stream Client

```dart
    final client = createClient(
      user: User(id: currentUser.userId, name: currentUser.name),
      apiKey: currentUser.apiKey,
      userToken: currentUser.token,
    );
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`createClient()` method:**
- ‡∏™‡∏£‡πâ‡∏≤‡∏á Stream Video client
- **Parameters:**
  - `user`: User object (id, name)
  - `apiKey`: Stream API Key
  - `userToken`: JWT token

**`User` object:**
```dart
User(
  id: '68da5610e8994916f01364b8',  // unique user ID
  name: '‡∫Æ‡∫∑‡∫ß‡ªà‡∫≤‡∫á ‡∫ß‡ªà‡∫≤‡∫á',              // display name
)
```

---

```dart
  static StreamVideo createClient({
    required User user,
    required String apiKey,
    required String userToken,
    bool attachPushManager = true,
  }) {
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**Named parameters:**
- `required` = ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏
- `attachPushManager = true` = default value

---

```dart
    print('========================================');
    print('üîß CREATING STREAM VIDEO CLIENT');
    print('User ID: ${user.id}');
    print('User Name: ${user.name}');
    print('API Key: $apiKey');
    print('Push Manager Enabled: $attachPushManager');
```

**Debug logging:**
```
========================================
üîß CREATING STREAM VIDEO CLIENT
User ID: 68da5610e8994916f01364b8
User Name: ‡∫Æ‡∫∑‡∫ß‡ªà‡∫≤‡∫á ‡∫ß‡ªà‡∫≤‡∫á
API Key: r9mn4fsbzhub
Push Manager Enabled: true
========================================
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 10: Setup Push Notification Manager

```dart
    final client = StreamVideo(
      apiKey,
      user: user,
      userToken: userToken,
      pushNotificationManagerProvider: attachPushManager
          ? StreamVideoPushNotificationManager.create(
              androidPushProvider: const StreamVideoPushProvider.firebase(
                name: 'niwner_notification',
              ),
              iosPushProvider: const StreamVideoPushProvider.apn(
                name: 'niwner_notification',
              ),
              onNotificationResponse: (remoteMessage, call) async {
                debugPrint('üîî Notification tapped! Call ID: ${call.cid}');
                return NavigationResult.proceed;
              },
            )
          : null,
    );
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`StreamVideo` Constructor:**
- ‡∏™‡∏£‡πâ‡∏≤‡∏á Stream Video client instance

**Parameters:**

1. **`apiKey`**:
   - `"r9mn4fsbzhub"`
   - ‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô app ‡πÑ‡∏´‡∏ô

2. **`user`**:
   - User object
   - ‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏Ç‡∏≠‡∏á user ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

3. **`userToken`**:
   - JWT token
   - ‡πÉ‡∏ä‡πâ authenticate ‡∏Å‡∏±‡∏ö Stream API

4. **`pushNotificationManagerProvider`**:
   - **‡∏ñ‡πâ‡∏≤ `attachPushManager = true`**: ‡∏™‡∏£‡πâ‡∏≤‡∏á push manager
   - **‡∏ñ‡πâ‡∏≤ `false`**: `null` (‡πÑ‡∏°‡πà‡∏°‡∏µ push notifications)

---

### Push Notification Manager:

```dart
StreamVideoPushNotificationManager.create(
  androidPushProvider: const StreamVideoPushProvider.firebase(
    name: 'niwner_notification',
  ),
  iosPushProvider: const StreamVideoPushProvider.apn(
    name: 'niwner_notification',
  ),
  onNotificationResponse: (remoteMessage, call) async {
    debugPrint('üîî Notification tapped!');
    return NavigationResult.proceed;
  },
)
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`StreamVideoPushNotificationManager.create()`:**
- ‡∏™‡∏£‡πâ‡∏≤‡∏á push notification manager
- **‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£:**
  1. Get FCM Token (Android) / APNs Token (iOS)
  2. Register token ‡∏Å‡∏±‡∏ö Stream Backend
  3. Listen for incoming notifications
  4. Handle notification taps

---

**`androidPushProvider`:**
```dart
StreamVideoPushProvider.firebase(
  name: 'niwner_notification',
)
```

- **Type**: Firebase Cloud Messaging (FCM)
- **`name`**: Push provider name
  - **‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö** ‡∏ó‡∏µ‡πà config ‡πÉ‡∏ô Stream Dashboard
  - Stream ‡πÉ‡∏ä‡πâ name ‡∏ô‡∏µ‡πâ‡∏´‡∏≤ FCM Server Key

**‡∏ó‡∏≥‡πÑ‡∏° name ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á:**
```
Flutter App:
  androidPushProvider: name = 'niwner_notification'
       ‚Üì register FCM token
Stream Backend:
  Save token with provider name = 'niwner_notification'
       ‚Üì when incoming call
Stream Backend:
  Query: "Get provider named 'niwner_notification'"
  Get FCM Server Key from that provider
       ‚Üì send push
Firebase:
  Use that Server Key to send notification
```

---

**`iosPushProvider`:**
```dart
StreamVideoPushProvider.apn(
  name: 'niwner_notification',
)
```

- **Type**: Apple Push Notification service (APNs)
- **`name`**: ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Stream Dashboard

---

**`onNotificationResponse`:**
```dart
(remoteMessage, call) async {
  debugPrint('üîî Notification tapped! Call ID: ${call.cid}');
  return NavigationResult.proceed;
}
```

- **Callback** ‡πÄ‡∏°‡∏∑‡πà‡∏≠ user ‡∏Å‡∏î notification
- **Parameters:**
  - `remoteMessage`: FCM message data
  - `call`: Call object ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å message

- **Return:**
  - `NavigationResult.proceed`: ‡πÉ‡∏´‡πâ SDK ‡πÄ‡∏õ‡∏¥‡∏î call screen
  - `NavigationResult.cancel`: ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î)

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 11: Connect to Stream Backend

```dart
    client.connect().then((_) {
      print('========================================');
      print('‚úÖ STREAM VIDEO CLIENT CONNECTED');
      print('WebSocket: Connected');
      print('User Status: Online');
      print('========================================');
    }).catchError((error) {
      print('========================================');
      print('‚ùå STREAM VIDEO CONNECTION ERROR');
      print('Error: $error');
      print('========================================');
      print('üîß Troubleshooting:');
      print('1. Check internet connection');
      print('2. Verify token is valid');
      print('3. Check API Key: $apiKey');
      print('========================================');
    });
```

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:

**`client.connect()`:**
- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Stream Backend
- **Return**: `Future<void>`

**‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô:**

### 1. Validate Token

**HTTP Request:**
```http
POST https://video.stream-io-api.com/api/v2/connect
Authorization: eyJhbGc...
Stream-Auth-Type: jwt
```

**Stream Backend:**
1. Decode JWT token
2. Verify signature ‡∏î‡πâ‡∏ß‡∏¢ STREAM_API_SECRET
3. Check expiration (exp > now)
4. Extract user_id

**‡∏ñ‡πâ‡∏≤ valid ‚Üí Continue**
**‡∏ñ‡πâ‡∏≤ invalid ‚Üí Error: "Token signature is invalid"**

---

### 2. Open WebSocket Connection

```
Flutter App ‚Üî Stream Backend
WebSocket: wss://video.stream-io-api.com/ws
```

**‡∏ó‡∏≥‡πÑ‡∏°‡πÉ‡∏ä‡πâ WebSocket:**
- Real-time communication
- Bi-directional
- Low latency
- Receive events ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (incoming calls, state changes)

---

‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏â‡∏±‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ï‡πà‡∏≠‡∏à‡∏ô‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö? ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß 11 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î 53 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

‡∏¢‡∏±‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å:
- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 12-16: Register FCM Token, ‡πÅ‡∏™‡∏î‡∏á UI
- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 17-23: ‡∏Å‡∏≤‡∏£‡πÇ‡∏ó‡∏£‡∏≠‡∏≠‡∏Å (User A)
- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 24-30: Stream Backend + Firebase
- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 31-39: ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏™‡∏≤‡∏¢ (User B)
- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 40-46: WebRTC Setup
- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 47-53: Active Call ‡πÅ‡∏•‡∏∞ End Call

‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏•‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå‡∏Ñ‡∏£‡∏±‡∏ö?